---
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{Astro.slots.has('title') ? Astro.slots.render('title') : 'Cody Tanksley'}</title>
    <meta
      name="description"
      content="Software engineer, photographer, and writer from Albany, NY"
    />
    <meta name="color-scheme" content="light dark" />
    <script>
      // Apply session theme or fallback to system preference before CSS loads
      (function () {
        var KEY = 'theme-mode';
        var prefersDark = false;
        try {
          prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        } catch (_err) {
          prefersDark = false;
        }

        var mode = prefersDark ? 'dark' : 'light';
        try {
          var stored = sessionStorage.getItem(KEY);
          if (stored === 'light' || stored === 'dark') {
            mode = stored;
          } else {
            sessionStorage.setItem(KEY, mode);
          }
        } catch (_e) {
          // ignore sessionStorage failures
        }

        document.documentElement.setAttribute('data-theme', mode);
      })();
    </script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css"
    />
    <link rel="stylesheet" href="/style.css" />
  </head>

  <body>
    <header>
      <nav>
        <a href="/" class="site-title">Cody Tanksley</a>
        <div class="nav-links">
          <a href="/" class="home-link">Home</a>
          <a href="/about">About</a>
          <button
            id="theme-toggle"
            data-theme-toggle
            class="theme-toggle"
            type="button"
            aria-label="Toggle theme"
          >
            Toggle theme
          </button>
        </div>
      </nav>
    </header>

    <main>
      <slot />
    </main>

    <footer>
      <p>&copy; 2025 Cody Tanksley</p>
    </footer>
    <script>
      import "../scripts/theme-toggle.ts";
      import "../scripts/equations.ts";
    </script>
  </body>
</html>
